# This file maintained by Chef.  DO NOT EDIT!

<% if @auto -%>
auto <%= @device %>
<% end %>
iface <%= @device %> <%= @network_type %> <%= @type %>
<% if @hw_address -%>
  hwaddress <%= @hw_address %>
<% end %>
<% if @address -%>
  address <%= @address %>
<% end %>
<% if @netmask -%>
  netmask <%= @netmask %>
<% end %>
<% if @broadcast -%>
  broadcast <%= @broadcast %>
<% end %>
<% if @gateway -%>
  gateway <%= @gateway %>
<% end %>
<% if @dns -%>
  dns-nameservers <%= @dns.is_a?(Array) ? @dns.join(' ') : @dns %>
<% end %>
<% if @vlan_dev -%>
  vlan-raw-device <%= @vlan_dev %>
<% end %>
<% if @bridge_ports -%>
  bridge_ports<% @bridge_ports.each do |port| %> <%= port %><% end %>
<% end %>
<% unless @bridge_stp.nil? -%>
  bridge_stp <%= @bridge_stp ? "on" : "off" %>
<% end %>
<% if @bond_master -%>
  bond-master <%= @bond_master %>
<% end %>
<% if @bond_slaves -%>
  bond-slaves<% @bond_slaves.each do |iface| %> <%= iface %><% end %>
<% end %>
<% if @bond_mode -%>
  bond-mode <%= @bond_mode %>
<% end %>
<% if @metric -%>
  metric <%= @metric %>
<% end %>
<% if @mtu -%>
  mtu <%= @mtu %>
<% end %>
<% # Command block, order matters, so do not use a hash
[
  ['pre-up', @pre_up],
  ['up', @up],
  ['post-up', @post_up],
  ['pre-down', @pre_down],
  ['down', @down],
  ['post-down', @post_down],
].each { |c| Array(c[1]).each { |v| -%>
  <%= c[0] %> <%= v %>
<% } %>
<% } %>
<% if @custom -%>
<% @custom.sort_by{ |instruc, command| instruc }.each do |instruc, command| -%>
  <%= instruc %> <%= command %>
<% end %>
<% end %>
